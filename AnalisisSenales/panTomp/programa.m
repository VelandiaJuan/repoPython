% logica principal del programa 
clc
clear all 
close all
data = [2.233626604,2.179863214,2.150537729,2.160312891,2.15542531,2.116324425,2.057673454,2.038123131,2.052785873,2.067448616,2.028347969,1.964809418,1.920821095,1.915933514,1.920821095,1.876832867,1.79863143,1.74486804,1.715542555,1.705767393,1.65200386,1.559139729,1.480938435,1.446725368,1.436950111,1.397849445,1.344086051,1.295210123,1.300097704,1.334310889,1.344086051,1.348973632,1.329423308,1.378299117,1.422287369,1.451612949,1.436950111,1.432062531,1.45650053,1.490713596,1.505376339,1.461388111,1.412512207,1.407624626,1.446725368,1.480938435,1.476050854,1.471163273,1.490713596,1.544476986,1.598240471,1.583577728,1.559139729,1.578690147,1.632453537,1.69110465,1.695992231,1.676441765,1.681329346,1.715542555,1.74486804,1.725317717,1.69110465,1.69110465,1.730205297,1.774193525,1.769305944,1.735092878,1.759530783,1.871945286,2.038123131,2.248289347,2.482893467,2.746823072,2.996089935,3.098729134,2.917888641,2.517106533,2.018572807,1.505376339,1.109481931,0.801564026,0.576735067,0.45454545,0.434995127,0.469208193,0.488758564,0.459433031,0.410557175,0.386119251,0.376344085,0.371456504,0.322580624,0.263929605,0.239491677,0.229716516,0.244379282,0.224828935,0.185728254,0.180840673,0.219941354,0.249266863,0.244379282,0.219941354,0.224828935,0.283479958,0.327468204,0.366568923,0.386119251,0.439882708,0.508308887,0.610948181,0.708699894,0.777126074,0.855327511,0.977517128,1.109481931,1.197458506,1.251221895,1.295210123,1.373411536,1.476050854,1.549364567,1.573802567,1.598240471,1.64711628,1.710654974,1.754643202,1.754643202,1.764418364,1.808406639,1.862170124,1.89638319,1.881720448,1.857282543,1.867057705,1.886608028,1.876832867,1.823069477,1.759530783,1.730205297,1.735092878,1.695992231,1.622678375,1.529814243,1.461388111,1.432062531,1.407624626,1.344086051,1.265884638,1.212121248,1.197458506,1.177908063,1.119257092,1.036168098,0.96285429,0.928641224,0.90420332,0.840664673,0.75757575,0.694037151,0.679374409,0.679374409,0.654936409,0.6060606,0.576735067,0.601173019,0.645161247,0.68426199,0.68914957,0.718475056,0.806451607,0.884652996,0.933528805,0.953079128,0.948191547,0.972629547,0.992179871,0.972629547,0.884652996,0.786901283,0.708699894,0.654936409,0.59139781,0.488758564,0.356793737,0.263929605,0.200391006,0.141739979,0.092864122,0.053763442,0.034213099,0.014662756,0.024437928,0.004887585,0,0,0.00977517,0.024437928,0.019550342,0.014662756,0.048875856,0.131964803,0.224828935,0.3030303,0.366568923,0.449657869,0.571847486,0.703812313,0.806451607,0.869990253,0.938416386,1.036168098,1.148582578,1.236559153,1.265884638,1.28054738,1.329423308,1.378299117,1.383186703,1.348973632,1.304985285,1.290322542,1.300097704,1.309872866,1.246334314,1.187683344,1.168132901,1.187683344,1.182795639,1.133919835,1.075268865,1.055718422,1.070381284,1.085044022,1.075268865,1.04594326,1.050830841,1.094819183,1.129032254,1.119257092,1.085044022,1.080156441,1.109481931,1.133919835,1.114369512,1.055718422,1.016617775,0.997067451,0.992179871,0.953079128,0.884652996,0.85043993,0.845552349,0.869990253,0.869990253,0.830889511,0.806451607,0.821114349,0.865102673,0.90420332,0.889540577,0.899315739,0.953079128,1.041055679,1.085044022,1.089931602,1.119257092,1.226783991,1.432062531,1.69110465,1.989247322,2.302052736,2.619745731,2.829911995,2.776148558,2.453567982,1.974584579,1.495601177,1.089931602,0.82600193,0.669599247,0.635386086,0.703812313,0.855327511,1.021505356,1.138807416,1.202346087,1.246334314,1.309872866,1.373411536,1.392961864,1.373411536,1.363636374,1.378299117,1.417399788,1.417399788,1.388074284,1.383186703,1.402737045,1.446725368,1.45650053,1.432062531,1.417399788,1.466275692,1.524926662,1.568914986,1.568914986,1.568914986,1.612903214,1.671554184,1.69110465,1.661779022,1.642228699,1.671554184,1.720430136,1.739980459,1.715542555,1.69110465,1.710654974,1.759530783,1.793743849,1.788856268,1.774193525,1.808406639,1.871945286,1.930596256,1.925708675,1.925708675,1.959921837,2.03323555,2.096774101,2.101661682,2.08699894,2.096774101,2.145650148,2.184750795,2.174975634,2.121212006,2.096774101,2.111436844,2.096774101,2.043010712,1.950146675,1.881720448,1.847507381,1.83773222,1.793743849,1.725317717,1.705767393,1.710654974,1.74486804,1.754643202,1.730205297,1.730205297,1.774193525,1.842619801,1.886608028,1.891495609,1.891495609,1.940371513,2.008797646,2.052785873,2.052785873,2.052785873,2.08699894,2.140762568,2.179863214,2.174975634,2.165200472,2.189638376,2.238514185,2.26783967,2.238514185,2.189638376,2.179863214,2.199413538,2.2091887,2.179863214,2.121212006,2.09188652,2.111436844,2.116324425,2.067448616,2.008797646,1.989247322,1.989247322,2.008797646,1.989247322,1.950146675,1.935483837,1.969696999,1.984359741,1.969696999,1.915933514,1.886608028,1.901270771,1.930596256,1.920821095,1.881720448,1.871945286,1.881720448,1.930596256,1.940371513,1.915933514,1.901270771,1.935483837,1.97947216,1.994134903,1.969696999,1.955034256,1.984359741,2.043010712,2.072336197,2.052785873,2.038123131,2.062561035,2.106549263,2.130987406,2.106549263,2.08699894,2.09188652,2.145650148,2.184750795,2.174975634,2.150537729,2.165200472,2.194525957,2.228739023,2.2091887,2.170088053,2.165200472,2.2091887,2.253176928,2.233626604,2.199413538,2.204301119,2.253176928,2.287389994,2.272727251,2.223851442,2.199413538,2.233626604,2.258064508,2.248289347,2.199413538,2.165200472,2.160312891,2.170088053,2.130987406,2.052785873,1.984359741,1.964809418,1.969696999,1.950146675,1.89638319,1.852394962,1.857282543,1.862170124,1.867057705,1.832844639,1.813294315,1.842619801,1.89638319,1.925708675,1.891495609,1.867057705,1.891495609,1.994134903,2.145650148,2.331378222,2.570869923,2.888563156,3.230694056,3.479960918,3.460410595,3.176930666,2.761485815,2.26783967,1.823069477,1.441837788,1.202346087,1.124144673,1.187683344,1.309872866,1.412512207,1.485826015,1.549364567,1.627565956,1.676441765,1.69110465,1.661779022,1.64711628,1.671554184,1.705767393,1.705767393,1.656891441,1.627565956,1.642228699,1.686216927,1.69110465,1.661779022,1.656891441,1.69110465,1.74486804,1.779081106,1.769305944,1.764418364,1.788856268,1.827957058,1.842619801,1.818181896,1.79863143,1.818181896,1.852394962,1.871945286,1.83773222,1.803519058,1.79863143,1.83773222,1.867057705,1.852394962,1.818181896,1.832844639,1.886608028,1.930596256,1.930596256,1.901270771,1.920821095,1.959921837,1.989247322,1.959921837,1.886608028,1.842619801,1.83773222,1.832844639,1.783968687,1.700879812,1.64711628,1.637341118,1.632453537,1.598240471,1.515151501,1.461388111,1.441837788,1.42717495,1.368523955,1.270772219,1.192570925,1.153470159,1.133919835,1.10459435,1.021505356,0.967741871,0.957966709,0.977517128,0.982404709,0.923753643,0.874877834,0.879765415,0.918866062,0.928641224,0.9090909,0.889540577,0.90420332,0.953079128,0.992179871,0.997067451,0.98729229,1.016617775,1.075268865,1.119257092,1.129032254,1.099706764,1.109481931,1.148582578,1.192570925,1.202346087,1.192570925,1.202346087,1.265884638,1.334310889,1.358748794,1.334310889,1.329423308,1.363636374,1.402737045,1.383186703,1.334310889,1.314760566,1.334310889,1.358748794,1.353861213,1.304985285,1.2756598,1.290322542,1.319648147,1.314760566,1.270772219,1.207233667,1.202346087,1.226783991,1.236559153,1.197458506,1.16324532,1.153470159,1.187683344,1.197458506,1.158357739,1.119257092,1.119257092,1.173020482,1.207233667,1.202346087,1.177908063,1.187683344,1.226783991,1.270772219,1.260997057,1.236559153,1.246334314,1.28054738,1.295210123,1.28054738,1.231671572,1.231671572,1.285434961,1.33919847,1.353861213,1.334310889,1.33919847,1.378299117,1.42717495,1.436950111,1.407624626,1.407624626,1.466275692,1.539589405,1.564027405,1.544476986,1.544476986,1.578690147,1.627565956,1.65200386,1.642228699,1.627565956,1.642228699,1.666666603,1.656891441,1.603128052,1.554252148,1.554252148,1.583577728,1.598240471,1.583577728,1.564027405,1.583577728,1.637341118,1.671554184,1.65200386,1.627565956,1.642228699,1.686216927,1.710654974,1.69110465,1.656891441,1.671554184,1.720430136,1.808406639,1.920821095,2.09188652,2.365591288,2.73216033,3.059628487,3.245356798,3.186705828,2.937438965,2.561094761,2.116324425,1.681329346,1.334310889,1.143694997,1.133919835,1.236559153,1.344086051,1.432062531,1.529814243,1.642228699,1.735092878,1.764418364,1.739980459,1.735092878,1.74486804,1.735092878,1.686216927,1.59335289,1.51026392,1.471163273,1.446725368,1.397849445,1.304985285,1.207233667,1.148582578,1.119257092,1.075268865,1.006842613,0.938416386,0.918866062,0.918866062,0.918866062,0.889540577,0.874877834,0.865102673,0.9090909,0.948191547,0.953079128,0.923753643,0.933528805,1.001955032,1.075268865,1.080156441,1.070381284,1.089931602,1.143694997,1.217008829,1.217008829,1.202346087,1.207233667,1.256109476,1.300097704,1.314760566,1.295210123,1.300097704,1.358748794,1.402737045,1.422287369,1.397849445,1.388074284,1.417399788,1.45650053,1.476050854,1.42717495,1.392961864,1.392961864,1.407624626,1.383186703,1.314760566,1.256109476,1.241446733,1.265884638,1.265884638,1.236559153,1.212121248,1.236559153,1.300097704,1.353861213,1.368523955,1.392961864,1.466275692,1.564027405,1.656891441,1.695992231,1.705767393,1.739980459,1.793743849,1.83773222,1.83773222,1.823069477,1.847507381,1.906158352,1.950146675,1.959921837,1.950146675,1.959921837,2.008797646,2.052785873,2.052785873,2.028347969,2.018572807,2.057673454,2.096774101,2.08699894,2.047898293,2.023460388,2.052785873,2.106549263,2.116324425,2.077223778,2.052785873,2.082111359,2.106549263,2.101661682,2.057673454,2.028347969,2.043010712,2.082111359,2.101661682,2.057673454,2.03323555,2.067448616,2.130987406,2.174975634,2.165200472,2.126099825,2.145650148,2.194525957,2.233626604,2.218963861,2.194525957,2.204301119,2.248289347,2.292277575,2.258064508,2.223851442,2.218963861,2.26783967,2.277614832,2.238514185,2.179863214,2.160312891,2.179863214,2.214076281,2.179863214,2.135874987,2.116324425,2.135874987,2.160312891,2.140762568,2.096774101,2.09188652,2.116324425,2.140762568,2.106549263,2.047898293,2.03323555,2.047898293,2.067448616,2.03323555,1.969696999,1.911045933,1.906158352,1.920821095,1.876832867,1.818181896,1.788856268,1.808406639,1.847507381,1.852394962,1.818181896,1.803519058,1.83773222,1.876832867,1.871945286,1.852394962,1.813294315,1.842619801,1.89638319,1.911045933,1.906158352,1.950146675,2.101661682,2.32160306,2.590420246,2.878787994,3.176930666,3.455523014,3.582600117,3.411534786,3.02052784,2.531769276,2.101661682,1.793743849,1.59335289,1.485826015,1.505376339,1.642228699,1.83773222,1.999022484,2.096774101,2.165200472,2.243401766,2.341153383,2.424242496,2.473118305,2.49755621,2.55620718,2.644183874,2.702834845,2.707722425,2.712610006,2.746823072,2.805474091,2.825024414,2.7908113,2.737047911,2.722385168,2.741935492,2.751710653,2.712610006,2.673509359,2.668621778,2.702834845,2.727272749,2.688172102,2.644183874,2.658846617,2.683284521,2.707722425,2.67839694,2.61485815,2.600195408,2.624633312,2.649071455,2.619745731,2.565982342,2.55620718,2.580645084,2.60997057,2.590420246,2.536656857,2.526881695,2.561094761,2.595307827,2.575757504,2.517106533,2.492668629,2.521994114,2.536656857,2.507331371,2.438905239,2.394917011,2.375366688,2.365591288,2.306940317];

filtro1 = filtroPasaBaja(data);% aplicar filtro pasa baja a la senal
filtro2 = filtroPasaAlta(filtro1);%aplicar filtro pasa alta
derivador1 = derivador(filtro2);%aplicar derivador
elevador1 = elevarCuadrado(derivador1);
panTomp = integralVentana(elevador1,22);


plot(filtro1);
figure
plot(filtro2);
figure
plot(derivador1);
figure
plot(elevador1);
figure
plot(panTomp);